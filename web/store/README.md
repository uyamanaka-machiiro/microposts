# Vuex 利用ガイドライン

## Global Store

### is 何

- すべてのページから平等に参照する可能性があるもの
- 大枠のレイアウトが参照する可能性があるもの
- すべてのページ遷移において、状態保持・参照の発生の可能性があるもの
- ページを跨いで複数箇所から参照する　という意味ではなく、真にグローバル変数であるもの

### 判断基準

- ページを遷移しても状態を保持し続けるべきもの
- 具体的には、認証トークン、ログイン情報、ログインユーザ情報　に限るデータ

### 利用ルール

|                type | getter | action |
| ------------------: | :----: | :----: |
|      component/atom |   o    |   x    |
|  component/molecule |   o    |   x    |
| component/organisms |   o    |   x    |
|                page |   o    |   o    |

## Page Store

### is 何

- そのページからしか参照する可能性がないものを指します
- 絶対に他のページから参照しません

### 判断基準

- ページを遷移したら消しても影響がないもの

### 利用ルール

|                type | getter | action |
| ------------------: | :----: | :----: |
|      component/atom |   x    |   x    |
|  component/molecule |   x    |   x    |
| component/organisms |   x    |   x    |
|         (other)page |   x    |   x    |
|          (same)page |   o    |   o    |

## Component Store

### is 何

- コンポーネント単位から参照する可能性があるものを指します。
- 複数のページからでも、同一のコンポーネントから同様の参照があるかもしれないです。
- コレの存在が、Vuex のメンテのしづらさを加速させます

### 判断基準

- コンポーネントの表示のためだけに状態を作る必要があるもの

### ex

- modal を開いたら内部に表示するためのデータなど

### 利用ルール

- 存在を許しません
- 非同期コンポーネントか、Page Store の利用を推奨します
